<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Event Calendar · MAUL</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta property="og:title" content="Event Calendar" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://moddedamong.us/calendar.html" />
    <meta property="og:image" content="https://moddedamong.us/images/banner.png" />
    <meta property="og:description" content="Stay up to date on upcoming, active, and past events in Modded Among Us Lobbies." />
    <meta property="og:site_name" content="Modded Among Us Lobbies" />
    <meta property="og:locale" content="en_US" />
    <link rel="canonical" href="https://moddedamong.us/calendar.html" />
    <link rel="icon" type="image/png" href="images/favicon.png">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Poppins:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
          integrity="sha512-pcKRe3h4c9VBPlPfwDrLEkHZ90a4q/OzHD7S9vMYI9z1y9u2c7p7x5AcZx/9H84zYZlzGw8c47jM7TCtWbsxkA=="
          crossorigin="anonymous" referrerpolicy="no-referrer">

    <style>
      :root {
        --accent: #800000;
        --accent-soft: rgba(128, 0, 0, 0.25);
        --accent-strong: #b00000;
        --bg-card: rgba(30, 12, 12, 0.9);
        --bg-soft: rgba(45, 18, 18, 0.9);
        --text-main: #ffffff;
        --text-muted: #dedee8;
      }

      * {
        box-sizing: border-box;
      }

      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        font-family: 'Roboto', sans-serif;
        color: var(--text-main);
        overflow-x: hidden;
      }

      body {
        background: #000 url("images/maulredbg.png") no-repeat top center fixed;
        background-size: auto 100%;
        position: relative;
      }

      body::before {
        content: "";
        position: fixed;
        inset: 0;
        background:
          radial-gradient(circle at top, rgba(128, 0, 0, 0.45), transparent 55%),
          radial-gradient(circle at bottom, rgba(180, 0, 60, 0.25), transparent 55%);
        mix-blend-mode: screen;
        opacity: 0.7;
        pointer-events: none;
        z-index: -2;
      }

      body::after {
        content: "";
        position: fixed;
        inset: 0;
        background: radial-gradient(circle at center, rgba(20, 0, 0, 0.75), rgba(5, 0, 0, 0.9));
        z-index: -1;
      }

      .dropdown {
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 100;
      }

      .dropbtn {
        background: rgba(35, 10, 10, 0.9);
        border: 1px solid rgba(255, 255, 255, 0.14);
        cursor: pointer;
        transition: transform 0.25s ease, box-shadow 0.25s ease, background 0.25s ease;
        padding: 10px 10px;
        border-radius: 999px;
        backdrop-filter: blur(10px);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .dropbtn:hover {
        transform: translateY(-1px) scale(1.03);
        background: rgba(50, 16, 16, 0.98);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.7);
      }

      .hamburger {
        width: 26px;
        height: 18px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }

      .hamburger span {
        display: block;
        height: 3px;
        background: linear-gradient(90deg, var(--accent), #ff0040);
        border-radius: 999px;
      }

      .dropdown-content {
        display: none;
        position: absolute;
        margin-top: 8px;
        background-color: rgba(35, 10, 10, 0.96);
        min-width: 220px;
        box-shadow: 0 16px 40px rgba(0,0,0,0.85);
        border-radius: 12px;
        overflow: hidden;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.08);
      }

      .dropdown-content a {
        color: var(--text-main);
        padding: 12px 18px;
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 0.95rem;
        transition: background 0.25s, color 0.25s, padding-left 0.25s;
      }

      .dropdown-content a:hover {
        background: rgba(255, 255, 255, 0.04);
        color: var(--accent);
        padding-left: 22px;
      }

      .beta-glow {
        color: #ff4d4d !important;
        font-weight: 700;
        text-shadow: 0 0 8px rgba(255, 0, 0, 0.75),
                     0 0 12px rgba(255, 0, 0, 0.55);
      }

      .dropdown.open .dropdown-content {
        display: block;
      }

      .page-wrapper {
        max-width: 1100px;
        margin: 0 auto;
        padding: 80px 20px 60px;
      }

      @media (max-width: 600px) {
        .page-wrapper {
          padding-top: 90px;
        }
      }

      .page-header {
        text-align: center;
        padding: 32px 16px 10px;
      }

      .header-badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 6px 12px;
        border-radius: 999px;
        font-size: 0.8rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        background: linear-gradient(120deg, rgba(128, 0, 0, 0.5), rgba(200, 0, 80, 0.35));
        border: 1px solid rgba(255, 255, 255, 0.18);
        color: var(--text-muted);
        margin-bottom: 16px;
      }

      .header-badge-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: radial-gradient(circle, #00ff9c, #00b36b);
        box-shadow: 0 0 12px rgba(0, 255, 156, 0.7);
      }

      .page-header h1 {
        font-family: 'Poppins', sans-serif;
        font-size: clamp(2.1rem, 3.4vw, 2.8rem);
        margin: 0;
        letter-spacing: 0.04em;
        text-shadow: 0 8px 30px rgba(0,0,0,0.9);
      }

      .page-header h1 span {
        background: linear-gradient(120deg, #ffffff, var(--accent));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
      }

      .page-header-subtitle {
        margin: 12px auto 0;
        max-width: 650px;
        font-size: 0.98rem;
        line-height: 1.7;
        color: var(--text-muted);
      }

      .calendar-card {
        max-width: 900px;
        margin: 26px auto 20px;
        padding: 20px 22px 18px;
        background-color: var(--bg-card);
        border-radius: 18px;
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: 0 18px 40px rgba(0,0,0,0.85);
        backdrop-filter: blur(12px);
      }

      .calendar-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 10px;
        margin-bottom: 16px;
      }

      .calendar-header h2 {
        margin: 0;
        font-family: 'Poppins', sans-serif;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        font-size: 1rem;
        color: var(--text-muted);
      }

      .month-navigation {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .month-navigation button {
        background: rgba(45, 18, 18, 0.95);
        color: var(--text-main);
        padding: 8px 12px;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.14);
        cursor: pointer;
        font-size: 0.85rem;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        transition: background 0.22s, transform 0.18s, box-shadow 0.22s, border-color 0.22s, opacity 0.22s;
      }

      .month-navigation button:hover:not(.disabled) {
        background: rgba(60, 22, 22, 0.98);
        transform: translateY(-1px);
        box-shadow: 0 10px 26px rgba(0,0,0,0.9);
        border-color: var(--accent-soft);
      }

      .month-navigation button.disabled {
        opacity: 0.4;
        cursor: default;
      }

      .month-title {
        font-size: 1.25rem;
        font-weight: 600;
      }

      .calendar-grid {
        margin-top: 12px;
      }

      .weekday-row,
      .calendar {
        display: grid;
        grid-template-columns: repeat(7, minmax(0, 1fr));
        gap: 6px;
      }

      .weekday {
        font-size: 0.8rem;
        text-align: center;
        text-transform: uppercase;
        letter-spacing: 0.12em;
        color: var(--text-muted);
        padding-bottom: 4px;
      }

      .day {
        background: rgba(45, 18, 18, 0.85);
        padding: 8px 6px 10px;
        border-radius: 10px;
        font-size: 0.95rem;
        min-height: 54px;
        position: relative;
        cursor: pointer;
        transition: background 0.22s, transform 0.18s, box-shadow 0.22s, border-color 0.22s;
        border: 1px solid rgba(255, 255, 255, 0.06);
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: space-between;
      }

      .day.empty {
        visibility: hidden;
        pointer-events: none;
      }

      .day:hover {
        background: rgba(60, 22, 22, 0.9);
        box-shadow: 0 10px 26px rgba(0,0,0,0.8);
      }

      .day-number {
        font-weight: 600;
        margin-bottom: 6px;
      }

      .day-label {
        font-size: 0.72rem;
        color: var(--text-muted);
      }

      .day-has-event .day-label {
        color: #ffffff;
      }

      .day.selected {
        border-color: var(--accent-soft);
        box-shadow: 0 0 0 1px rgba(255,255,255,0.08), 0 10px 26px rgba(0,0,0,0.9);
      }

      .day.badge-ended {
        background: rgba(120, 25, 25, 0.9);
      }

      .day.badge-active {
        background: rgba(0, 100, 40, 0.95);
      }

      .day.badge-upcoming {
        background: rgba(40, 70, 120, 0.9);
      }

      .event-dot-row {
        display: flex;
        gap: 4px;
        margin-top: 4px;
      }

      .event-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
      }

      .event-dot.ended {
        background: linear-gradient(135deg, #ff4d4d, #b00000);
      }

      .event-dot.active {
        background: linear-gradient(135deg, #00ff9c, #00b36b);
      }

      .event-dot.upcoming {
        background: linear-gradient(135deg, #66aaff, #3355aa);
      }

      .legend {
        margin-top: 14px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        font-size: 0.78rem;
        color: var(--text-muted);
      }

      .legend-item {
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .legend-dot {
        width: 10px;
        height: 10px;
        border-radius: 999px;
      }

      .legend-dot.ended {
        background: linear-gradient(135deg, #ff4d4d, #b00000);
      }

      .legend-dot.active {
        background: linear-gradient(135deg, #00ff9c, #00b36b);
      }

      .legend-dot.upcoming {
        background: linear-gradient(135deg, #66aaff, #3355aa);
      }

      .event-details {
        margin-top: 18px;
        background-color: var(--bg-soft);
        border-radius: 14px;
        border: 1px solid rgba(255, 255, 255, 0.08);
        padding: 14px 16px 12px;
        display: none;
      }

      .event-details-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 8px;
        margin-bottom: 10px;
      }

      .event-details-title {
        font-family: 'Poppins', sans-serif;
        font-size: 0.9rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: var(--text-muted);
      }

      .event-details-date {
        font-size: 0.9rem;
        color: var(--text-main);
        font-weight: 500;
      }

      .event-list {
        list-style: none;
        margin: 0;
        padding: 0;
        font-size: 0.9rem;
      }

      .event-list li {
        padding: 6px 0;
        display: flex;
        justify-content: space-between;
        gap: 12px;
        border-top: 1px solid rgba(255, 255, 255, 0.06);
      }

      .event-list li:first-child {
        border-top: none;
      }

      .event-name {
        flex: 1;
      }

      .event-status-badge {
        font-size: 0.78rem;
        text-transform: uppercase;
        letter-spacing: 0.12em;
        padding: 3px 8px;
        border-radius: 999px;
        white-space: nowrap;
      }

      .event-status-ended {
        background: rgba(120, 25, 25, 0.95);
      }

      .event-status-active {
        background: rgba(0, 100, 40, 0.95);
      }

      .event-status-upcoming {
        background: rgba(40, 70, 120, 0.95);
      }

      .event-details-empty {
        font-size: 0.9rem;
        color: var(--text-muted);
      }

      .live-events-container {
        max-width: 900px;
        margin: 12px auto 0;
        padding: 18px 20px 16px;
        border-radius: 18px;
        background: rgba(45, 18, 18, 0.9);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: 0 16px 36px rgba(0,0,0,0.9);
        backdrop-filter: blur(10px);
      }

      .live-events-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 10px;
        margin-bottom: 10px;
      }

      .live-events-header h2 {
        margin: 0;
        font-family: 'Poppins', sans-serif;
        font-size: 1rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
      }

      .live-pill {
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.13em;
        background: rgba(255, 0, 0, 0.15);
        border: 1px solid rgba(255, 80, 80, 0.6);
        color: #ffb3b3;
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .live-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: radial-gradient(circle, #ff4d4d, #b00000);
        box-shadow: 0 0 12px rgba(255, 77, 77, 0.8);
      }

      .active-events-list {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-top: 6px;
      }

      .active-event-display {
        padding: 8px 10px;
        border-radius: 10px;
        font-size: 0.9rem;
        background: rgba(0, 100, 40, 0.95);
        border: 1px solid rgba(255, 255, 255, 0.08);
        display: flex;
        justify-content: space-between;
        gap: 10px;
      }

      .active-event-name {
        flex: 1;
      }

      .active-event-date {
        font-size: 0.8rem;
        color: #d5ffe7;
        white-space: nowrap;
      }

      .no-active-events {
        font-size: 0.9rem;
        color: var(--text-muted);
      }

      footer {
        margin-top: 26px;
        text-align: center;
        font-size: 0.85rem;
        color: var(--text-muted);
      }

      footer a {
        color: #7fb4ff;
        text-decoration: none;
      }

      footer a:hover {
        text-decoration: underline;
      }

      @media (max-width: 700px) {
        .calendar-header {
          flex-direction: column;
          align-items: flex-start;
        }

        .calendar-card {
          padding: 18px 14px 14px;
        }
      }

      @media (prefers-reduced-motion: reduce) {
        * {
          animation-duration: 0.001ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.001ms !important;
          scroll-behavior: auto !important;
        }
      }
    </style>
  </head>
  <body>
    <div class="dropdown">
      <button class="dropbtn" type="button" aria-label="Open navigation menu">
        <div class="hamburger" aria-hidden="true">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </button>
      <div class="dropdown-content">
      <a href="https://moddedamong.us/"><i class="fa-solid fa-house"></i> Home</a>
      <a href="https://moddedamong.us/art.html"><i class="fa-solid fa-paintbrush"></i> User Art</a>
      <a href="https://moddedamong.us/ourstaff.html"><i class="fa-solid fa-users-gear"></i> Our Staff</a>
      <a href="https://moddedamong.us/eventpics.html"><i class="fa-regular fa-images"></i> Past Events</a>
      <a href="https://moddedamong.us/calendar.html"><i class="fa-regular fa-calendar"></i> Event Calendar</a>
      <a href="https://moddedamong.us/mods.html"><i class="fa-solid fa-code-branch"></i> Featured Mods</a>
      <a href="https://moddedamong.us/presets.html"><i class="fa-solid fa-sliders"></i> Mod Presets</a>
      <a href="https://moddedamong.us/tags.html"><i class="fa-solid fa-ticket"></i> Tag Generator</a>
      <a href="https://moddedamong.us/icons.html"><i class="fa-regular fa-face-smile"></i> Icons and Fonts</a>
      <a href="https://moddedamong.us/lobbytemplates"><i class="fa-solid fa-list"></i> Lobby Templates</a>
      <a href="https://moddedamong.us/wrapped"><i class="fa-solid fa-gift"></i> <span class="beta-glow">NEW</span> – 2025 Wrapped</a>
      <a href="https://moddedamong.us/roletest"><i class="fa-solid fa-brain"></i> <span class="beta-glow">NEW</span> – Personality Test</a>
      <a href="https://moddedamong.us/BETAtemplates" class="beta-glow"><i class="fa-solid fa-flask"></i> BETA Templates</a>
          <i class="fa-solid fa-flask"></i> BETA Templates
        </a>
      </div>
    </div>

    <div class="page-wrapper">
      <header class="page-header">
        <div class="header-badge">
          <span class="header-badge-dot"></span>
          Event Schedule · MAUL
        </div>
        <h1>
          Event <span>Calendar</span>
        </h1>
        <p class="page-header-subtitle">
          Track upcoming, active, and past events for
          <strong>Modded Among Us Lobbies</strong> – from movie nights to XP
          boosts and special game modes.
        </p>
      </header>

      <section class="calendar-card">
        <div class="calendar-header">
          <div>
            <h2>Monthly Overview</h2>
            <div class="month-title" id="monthTitle">Loading…</div>
          </div>

          <div class="month-navigation">
            <button id="prevMonth">
              <i class="fa-solid fa-chevron-left"></i>
              <span>Prev</span>
            </button>
            <button id="nextMonth">
              <span>Next</span>
              <i class="fa-solid fa-chevron-right"></i>
            </button>
          </div>
        </div>

        <div class="calendar-grid">
          <div class="weekday-row" id="weekdayRow"></div>
          <div class="calendar" id="calendarDays"></div>
        </div>

        <div class="legend">
          <div class="legend-item">
            <span class="legend-dot active"></span>
            <span>Active / Live</span>
          </div>
          <div class="legend-item">
            <span class="legend-dot upcoming"></span>
            <span>Upcoming</span>
          </div>
          <div class="legend-item">
            <span class="legend-dot ended"></span>
            <span>Ended</span>
          </div>
        </div>

        <div class="event-details" id="eventDetails">
          <div class="event-details-header">
            <div class="event-details-title">Selected Day</div>
            <div class="event-details-date" id="eventDateLabel"></div>
          </div>
          <ul class="event-list" id="eventList"></ul>
          <div class="event-details-empty" id="eventEmpty" style="display:none;">
            No events are scheduled for this day.
          </div>
        </div>
      </section>

      <section class="live-events-container">
        <div class="live-events-header">
          <h2>Live & Ongoing Events</h2>
          <div class="live-pill">
            <span class="live-dot"></span>
            Tracking events marked as <strong>active</strong>.
          </div>
        </div>
        <div class="active-events-list" id="active-events-list"></div>
        <div class="no-active-events" id="no-active-events" style="display:none;">
          There are no events currently marked as active. Check back soon!
        </div>
      </section>

      <footer>
        Want to
        <a href="https://discord.com/channels/995954559044304896/1114516322995421194" target="_blank" rel="noopener">
          suggest an event?
        </a>
      </footer>
    </div>

    <script>
      const events = {
        "March 2025": {
          14: [{ name: "Spring Scavenger Hunt · By Sarha", status: "ended" }],
          15: [{ name: "Mafia Night · By Cris", status: "ended" }],
          21: [{ name: "Movie Event: Ponyo · By Sunny", status: "ended" }],
          22: [{ name: "Movie Event: Peter Pan · By Sunny", status: "ended" }],
          23: [{ name: "Server Art Event · By Sarha", status: "ended" }]
        },
        "April 2025": {
          18: [{ name: "Flash XP Event · By Sarha", status: "ended" }],
          19: [{ name: "Mafia Night · By Spyder", status: "ended" }],
          26: [{ name: "Flash XP Event · By Sarha", status: "ended" }],
          28: [{ name: "Minecraft Server Revamp · By Laikrai", status: "active" }]
        },
        "May 2025": {
          2:  [{ name: "Flash XP Event · By Sarha", status: "ended" }],
          4:  [{ name: "Flash XP Event · By Sarha", status: "ended" }],
          10: [{ name: "Guess The Number · By Sarha", status: "ended" }],
          16: [{ name: "Text XP Boost Event · By Sarha", status: "ended" }],
          17: [{ name: "Mafia Night · By Spyder", status: "ended" }],
          18: [{ name: "Clash of Creations · By Sarha", status: "ended" }],
          23: [{ name: "Town of Us: Reactivated · By Northie", status: "ended" }],
          25: [{ name: "TOHE Mega Lobby · By GoldenWolf", status: "ended" }],
          30: [{ name: "Summer Banner Event · By Sarha", status: "ended" }]
        },
        "June 2025": {
          1: [
            { name: "500% VC XP Boost · By Sarha", status: "ended" },
            { name: "Summer Banner Event · By Sarha", status: "ended" }
          ],
          10: [{ name: "GGD · By Ghoul", status: "ended" }],
          29: [{ name: "Scribble.io · By Spyder", status: "ended" }]
        },
        "July 2025": {
          12: [{ name: "500% XP Boost · By Sarha", status: "ended" }],
          13: [{ name: "Mafia Night · By Ghoul", status: "ended" }],
          20: [{ name: "Mafia Night · By Ghoul", status: "ended" }],
          26: [
            { name: "Movie Night: How to Train Your Dragon · By Spyder", status: "ended" },
            { name: "Codenames · By Mark", status: "ended" }
          ],
          27: [
            { name: "Mafia Night · By Ghoul", status: "ended" },
            { name: "500% Flash XP Event · By Sarha", status: "ended" }
          ],
          31: [{ name: "Codenames · By Mark", status: "ended" }]
        },
        "August 2025": {
          1: [
            { name: "Monthly Clan Wars Event", status: "ended" }
          ],
          2: [
            { name: "Hangry Games · By Spyder", status: "ended" },
            { name: "Code Names · By Mark", status: "ended" },
            { name: "Scribbl.io Night · By Spyder", status: "ended" }
          ],
          8:  [{ name: "Hangry Games · By Spyder", status: "ended" }],
          9:  [{ name: "Code Names · By Mark", status: "ended" }],
          10: [{ name: "Mafia Night · By Ghoul", status: "ended" }],
          16: [{ name: "Hangry Games · By Spyder", status: "ended" }],
          17: [{ name: "Mafia Night · By Ghoul", status: "ended" }],
          23: [{ name: "Hangry Games · By Spyder", status: "ended" }],
          30: [{ name: "Hangry Games · By Spyder", status: "ended" }]
        }
      };

      const monthNames = Object.keys(events);
      let currentMonthIndex = 0;

      const monthTitleEl = document.getElementById("monthTitle");
      const weekdayRowEl = document.getElementById("weekdayRow");
      const calendarDaysEl = document.getElementById("calendarDays");
      const prevMonthBtn = document.getElementById("prevMonth");
      const nextMonthBtn = document.getElementById("nextMonth");

      const eventDetails = document.getElementById("eventDetails");
      const eventDateLabel = document.getElementById("eventDateLabel");
      const eventList = document.getElementById("eventList");
      const eventEmpty = document.getElementById("eventEmpty");

      const activeEventsList = document.getElementById("active-events-list");
      const noActiveEventsEl = document.getElementById("no-active-events");

      function setupWeekdays() {
        const weekdays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
        weekdayRowEl.innerHTML = "";
        weekdays.forEach(day => {
          const div = document.createElement("div");
          div.className = "weekday";
          div.textContent = day;
          weekdayRowEl.appendChild(div);
        });
      }

      function getMonthInfo(monthLabel) {
        const [monthText, yearText] = monthLabel.split(" ");
        const year = parseInt(yearText, 10);
        const tempDate = new Date(`${monthText} 1, ${year}`);
        const monthIndex = tempDate.getMonth();
        const firstDay = new Date(year, monthIndex, 1).getDay();
        const daysInMonth = new Date(year, monthIndex + 1, 0).getDate();
        return { year, monthIndex, firstDay, daysInMonth, monthText };
      }

      function getDayStatus(eventsForDay) {
        if (!eventsForDay || !eventsForDay.length) return null;
        if (eventsForDay.some(e => e.status === "active")) return "active";
        if (eventsForDay.some(e => e.status === "upcoming")) return "upcoming";
        if (eventsForDay.some(e => e.status === "ended")) return "ended";
        return null;
      }

      function renderCalendar() {
        const monthLabel = monthNames[currentMonthIndex];
        monthTitleEl.textContent = monthLabel;
        calendarDaysEl.innerHTML = "";

        const { year, monthIndex, firstDay, daysInMonth, monthText } = getMonthInfo(monthLabel);
        const monthEvents = events[monthLabel] || {};

        prevMonthBtn.classList.toggle("disabled", currentMonthIndex === 0);
        nextMonthBtn.classList.toggle("disabled", currentMonthIndex === monthNames.length - 1);

        for (let i = 0; i < firstDay; i++) {
          const div = document.createElement("div");
          div.className = "day empty";
          calendarDaysEl.appendChild(div);
        }

        for (let day = 1; day <= daysInMonth; day++) {
          const div = document.createElement("div");
          div.className = "day";
          const eventsForDay = monthEvents[day] || [];

          const status = getDayStatus(eventsForDay);
          if (status) {
            div.classList.add("day-has-event");
            if (status === "active") div.classList.add("badge-active");
            if (status === "upcoming") div.classList.add("badge-upcoming");
            if (status === "ended") div.classList.add("badge-ended");
          }

          const labelText = eventsForDay.length
            ? `${eventsForDay.length} event${eventsForDay.length > 1 ? "s" : ""}`
            : "\u00A0";

          div.innerHTML = `
            <div class="day-number">${day}</div>
            <div class="day-label">${labelText}</div>
          `;

          if (eventsForDay.length) {
            const dotRow = document.createElement("div");
            dotRow.className = "event-dot-row";

            const types = new Set(eventsForDay.map(e => e.status));
            if (types.has("active")) {
              const d = document.createElement("span");
              d.className = "event-dot active";
              dotRow.appendChild(d);
            }
            if (types.has("upcoming")) {
              const d = document.createElement("span");
              d.className = "event-dot upcoming";
              dotRow.appendChild(d);
            }
            if (types.has("ended")) {
              const d = document.createElement("span");
              d.className = "event-dot ended";
              dotRow.appendChild(d);
            }

            div.appendChild(dotRow);
          }

          div.addEventListener("click", () => {
            document
              .querySelectorAll(".day.selected")
              .forEach(d => d.classList.remove("selected"));
            div.classList.add("selected");
            showEventDetails(monthLabel, day, eventsForDay);
          });

          calendarDaysEl.appendChild(div);
        }

        eventDetails.style.display = "none";

        renderActiveEventsForMonth(monthLabel);
      }

      function showEventDetails(monthLabel, day, eventsForDay) {
        eventDetails.style.display = "block";
        eventDateLabel.textContent = `${monthLabel} ${day}`;

        if (!eventsForDay.length) {
          eventList.style.display = "none";
          eventEmpty.style.display = "block";
          return;
        }

        eventList.innerHTML = "";
        eventList.style.display = "block";
        eventEmpty.style.display = "none";

        eventsForDay.forEach(evt => {
          const li = document.createElement("li");
          const nameSpan = document.createElement("span");
          nameSpan.className = "event-name";
          nameSpan.textContent = evt.name;

          const statusSpan = document.createElement("span");
          statusSpan.className = "event-status-badge";
          if (evt.status === "active") statusSpan.classList.add("event-status-active");
          if (evt.status === "upcoming") statusSpan.classList.add("event-status-upcoming");
          if (evt.status === "ended") statusSpan.classList.add("event-status-ended");
          statusSpan.textContent = evt.status || "event";

          li.appendChild(nameSpan);
          li.appendChild(statusSpan);
          eventList.appendChild(li);
        });
      }

      function renderActiveEventsForMonth(monthLabel) {
        activeEventsList.innerHTML = "";
        noActiveEventsEl.style.display = "none";

        const monthEvents = events[monthLabel] || {};
        const activeEntries = [];

        Object.keys(monthEvents).forEach(dayStr => {
          const day = parseInt(dayStr, 10);
          const list = monthEvents[day] || [];
          list.forEach(evt => {
            if (evt.status === "active") {
              activeEntries.push({ day, evt });
            }
          });
        });

        if (!activeEntries.length) {
          noActiveEventsEl.style.display = "block";
          return;
        }

        const [monthText, yearText] = monthLabel.split(" ");
        const year = parseInt(yearText, 10);

        activeEntries.sort((a, b) => a.day - b.day);

        activeEntries.forEach(({ day, evt }) => {
          const div = document.createElement("div");
          div.className = "active-event-display";

          const nameSpan = document.createElement("span");
          nameSpan.className = "active-event-name";
          nameSpan.textContent = evt.name;

          const dateSpan = document.createElement("span");
          dateSpan.className = "active-event-date";
          dateSpan.textContent = `${monthText} ${day}, ${year}`;

          div.appendChild(nameSpan);
          div.appendChild(dateSpan);
          activeEventsList.appendChild(div);
        });
      }

      prevMonthBtn.addEventListener("click", () => {
        if (currentMonthIndex > 0) {
          currentMonthIndex--;
          renderCalendar();
        }
      });

      nextMonthBtn.addEventListener("click", () => {
        if (currentMonthIndex < monthNames.length - 1) {
          currentMonthIndex++;
          renderCalendar();
        }
      });

      (function autoSelectCurrentMonth() {
        const today = new Date();
        const currentMonthStr =
          today.toLocaleString("default", { month: "long" }) +
          " " +
          today.getFullYear();

        const idx = monthNames.findIndex(m => m === currentMonthStr);
        if (idx !== -1) currentMonthIndex = idx;
      })();

      function initDropdown() {
        const dropdown = document.querySelector('.dropdown');
        const button = document.querySelector('.dropbtn');

        if (dropdown && button) {
          button.addEventListener('click', (e) => {
            e.stopPropagation();
            dropdown.classList.toggle('open');
          });

          document.addEventListener('click', (e) => {
            if (!dropdown.contains(e.target)) {
              dropdown.classList.remove('open');
            }
          });
        }
      }

      setupWeekdays();
      renderCalendar();
      initDropdown();
    </script>
  </body>
</html>
